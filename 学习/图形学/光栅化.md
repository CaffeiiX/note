将物体绘制在平面上
1. $(x,y)$ 代表像素块，且为一个整数
2. 像素范围为$(0,0) ,(width-1, height-1)$
屏幕空间如下
![[Pasted image 20230614230404.png]]

将$(-1,1)$的范围转化到$(0,width), (0,height)$，需要进行如下的视口变换
![[Pasted image 20230614230811.png]]
## 成像设备
CRT：隔行扫描的方式，导致画面撕裂问题（高速运动）
LCD：通过扭曲光的方向来控制透过光栅的水平
LED：发光二极管
## 如何在成像设备上进行绘制
![[Pasted image 20230614232409.png]]
1. 最基础的多边形
  - 任何多边形都能进行拆解
2.  独特性质
- 三角形必须是平面的
- 三角形内外定义清晰
- 只需要定义顶点属性就能进行内部渐变
### 三角形像素化过程
判断像素中心点和三角形的关系
**采样法**（函数离散化过程）
$$inside(t,x,y)$$
![[Pasted image 20230614233334.png]]
通过叉乘的思路，判断点在边的什么侧，如果在点的内部，则同三边的叉积具有相同的符号
### 计算技巧
1. 通过三角形的包围盒对需要判断的点进行筛选
![[Pasted image 20230614233804.png]]
2. 每行进行一个包围盒判断的方法
![[Pasted image 20230614233953.png]]
### 实际屏幕的光栅化
![[Pasted image 20230614234216.png]]
## 采样理论
Sampling Artifacts(error/ mistake)
1. 锯齿
2. 摩尔纹
3. 运动错误（时间采样）
-本质：信号变化过快，但是采样过慢。
### 抗锯齿/反走样
采样前先进行模糊作用，然后对模糊部分进行采样，（本质上应该是对于数据内的高频数据进行模糊）
![[Pasted image 20230619225825.png]]
#### 频域
傅里叶级数展开：所有函数都能展开成常数项以及和一系列正弦函数的，即不同频率的函数
![[Pasted image 20230619230824.png]]
对不同频率进行采样，这就导致对于高频率的信号的采样过慢，导致无法对于该信号的还原，即丢失的高频信号的数据更多。
![[Pasted image 20230619231013.png]]
走样：即采样的点过少，恢复的黑色曲线为低频曲线，而不是高频曲线就导致了走样的发生。
#### 滤波
过滤掉指定的频率。
![[Pasted image 20230619231207.png]]
中心代表了低频信息，边缘代表了高频信息，亮度越高代表了其信息越多。
竖线的产生是，左边界和右边界，上下边界的剧烈变换导致的。
![[Pasted image 20230619231410.png]]
过滤低频信息，高频信息代表了人物的边界。
![[Pasted image 20230619231711.png]]

滤波=卷积/平均
卷积：时域上的和等于频域上的乘积
![[Pasted image 20230619232331.png]]
越大的卷积核，得到的频率越低
![[Pasted image 20230619232828.png]]

#### 采样
Repeating Frequency Contents
![[Pasted image 20230619233023.png]]
采样是重复原始信号的频谱
稀疏采样导致，频谱的混叠
![[Pasted image 20230619234246.png]]
### 反走样
1. 增加采样率
2. 模糊：过滤掉高频信息，然后再进行采样
![[Pasted image 20230619234719.png]]

![[Pasted image 20230619235022.png]]
将像素内部的占比，通过卷积的方法在灰度上进行展示。
MSAA，（超采样），在单一像素内部进行超采样
![[Pasted image 20230619235147.png]]
FXAA 快速近似抗锯齿，通过将锯齿图案进行替换
TAA 时序抗锯齿，复用上一帧的结果

